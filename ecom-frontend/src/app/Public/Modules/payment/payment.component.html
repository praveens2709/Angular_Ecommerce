<app-cart-header></app-cart-header>
<div class="cart-body animate three fadeInUp">
    <app-back-button></app-back-button>
    <div class="row px-lg-3">
        <div class="col-lg-8 border-end">
            <div class="payment-section">
                <h6 class="py-1">Choose Payment Mode</h6>
                <div class="d-flex payment-methods border rounded-1">
                    <div class="col-lg-5 bg-grey">
                        <div class="payment-left d-flex flex-column">
                            <div *ngFor="let method of paymentMethods" (click)="handlePaymentMethodChange(method.key)"
                                [class.active]="selectedPaymentMethod === method.key"
                                class="cursor-pointer px-2 py-3 d-flex gap-2 align-items-center payment-option border-end border-top">
                                <img [src]="method.icon" [alt]="method.name" />
                                <p class="mb-0 fw-medium">{{ method.name }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-7">
                        <div *ngIf="selectedPaymentMethod === 'recommended'"
                            class="payment-right d-flex flex-column p-3">
                            <p class="red mb-2 fw-semibold">Recommended Payment Options</p>
                            <div *ngFor="let option of recommendedOptions"
                                (click)="handleRecommendedOptionChange(option.key)"
                                class="cursor-pointer d-flex align-items-center justify-content-between py-2 border-bottom">
                                <div class="d-flex align-items-center gap-2">
                                    <p-radioButton name="recommended" [value]="option.key"
                                        [(ngModel)]="selectedRecommendedOption"></p-radioButton>
                                    <p class="mb-0 fw-medium">{{ option.name }}</p>
                                </div>
                                <img [src]="option.icon" [alt]="option.name" class="rounded-circle p-1 border" />
                            </div>
                            <button *ngIf="selectedRecommendedOption" pButton label="PAY NOW"
                                class="w-100 mt-3 mb-2"></button>
                        </div>
                        <div *ngIf="selectedPaymentMethod === 'cod'" class="payment-right d-flex flex-column p-3">
                            <p class="red mb-3 fw-semibold">Cash on Delivery (Cash/UPI)</p>
                            <div class="captcha-box d-flex align-items-center gap-2">
                                <div class="border rounded-1 pt-1 pb-2 px-5">2 7 0 9 3</div>
                                <img src="assets/images/reload.png" alt="reload" class="border-0" />
                            </div>
                            <div class="input-form my-3">
                                <div class="input-box position-relative">
                                    <input pInputText required />
                                    <label>Enter code shown in above image*</label>
                                </div>
                                <p class="mt-1 mb-0">You can pay via Cash/UPI on delivery</p>
                            </div>
                            <button pButton label="PLACE ORDER" class="w-100"></button>
                        </div>
                        <div *ngIf="selectedPaymentMethod === 'upi'" class="payment-right d-flex flex-column p-3">
                            <p class="red mb-2 fw-semibold">Pay using UPI</p>
                            <div *ngFor="let option of upiOptions" (click)="handleUPIOptionChange(option.key)"
                                class="cursor-pointer d-flex align-items-center justify-content-between py-2 border-bottom">
                                <div class="d-flex align-items-center gap-2">
                                    <p-radioButton name="upi" [value]="option.key"
                                        [(ngModel)]="selectedUPIOption"></p-radioButton>
                                    <p class="mb-0 fw-medium">{{ option.name }}</p>
                                </div>
                                <img [src]="option.icon" [alt]="option.name" class="rounded-circle p-1 border" />
                            </div>
                            <button *ngIf="selectedUPIOption" pButton label="PAY NOW" class="w-100 mt-3 mb-2"></button>
                        </div>
                        <div *ngIf="selectedPaymentMethod === 'card'" class="payment-right d-flex flex-column p-3">
                            <p class="red mb-4 fw-semibold">Pay using Credit/Debit Card</p>
                            <form class="card-form">
                                <div class="input-box position-relative mb-3">
                                    <input pInputText required placeholder=" " />
                                    <label>Card Number*</label>
                                </div>
                                <div class="input-box position-relative mb-3">
                                    <input pInputText required placeholder=" " />
                                    <label>Name on Card*</label>
                                </div>
                                <div class="d-flex gap-2">
                                    <div class="input-box position-relative mb-3 flex-grow-1">
                                        <input pInputText required placeholder=" " />
                                        <label>Expiry (MM/YY)*</label>
                                    </div>
                                    <div class="input-box position-relative mb-3 flex-grow-1">
                                        <input pInputText required placeholder=" " />
                                        <label>CVV*</label>
                                    </div>
                                </div>
                            </form>
                            <button pButton label="PAY NOW" class="w-100"></button>
                        </div>                        
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <app-price-details [priceDetails]="priceDetails"></app-price-details>
        </div>
    </div>
</div>